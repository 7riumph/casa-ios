71995127162c847f7667b027a36e7fd5
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _Pressability = _interopRequireDefault(require("../../Pressability/Pressability"));
var _PressabilityDebug = require("../../Pressability/PressabilityDebug");
var _Animated = _interopRequireDefault(require("react-native/Libraries/Animated/Animated"));
var _Easing = _interopRequireDefault(require("react-native/Libraries/Animated/Easing"));
var _flattenStyle4 = _interopRequireDefault(require("react-native/Libraries/StyleSheet/flattenStyle"));
var _Platform = _interopRequireDefault(require("../../Utilities/Platform"));
var React = _interopRequireWildcard(require("react"));
var _excluded = ["onBlur", "onFocus"];
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var TouchableOpacity = function (_React$Component) {
  (0, _inherits2.default)(TouchableOpacity, _React$Component);
  var _super = _createSuper(TouchableOpacity);
  function TouchableOpacity() {
    var _this;
    (0, _classCallCheck2.default)(this, TouchableOpacity);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(args));
    _this.state = {
      anim: new _Animated.default.Value(_this._getChildStyleOpacityWithDefault()),
      pressability: new _Pressability.default(_this._createPressabilityConfig())
    };
    return _this;
  }
  (0, _createClass2.default)(TouchableOpacity, [{
    key: "_createPressabilityConfig",
    value: function _createPressabilityConfig() {
      var _this$props$disabled,
        _this$props$accessibi,
        _this2 = this;
      return {
        cancelable: !this.props.rejectResponderTermination,
        disabled: (_this$props$disabled = this.props.disabled) != null ? _this$props$disabled : (_this$props$accessibi = this.props.accessibilityState) == null ? void 0 : _this$props$accessibi.disabled,
        hitSlop: this.props.hitSlop,
        delayLongPress: this.props.delayLongPress,
        delayPressIn: this.props.delayPressIn,
        delayPressOut: this.props.delayPressOut,
        minPressDuration: 0,
        pressRectOffset: this.props.pressRetentionOffset,
        onBlur: function onBlur(event) {
          if (_Platform.default.isTV) {
            _this2._opacityInactive(250);
          }
          if (_this2.props.onBlur != null) {
            _this2.props.onBlur(event);
          }
        },
        onFocus: function onFocus(event) {
          if (_Platform.default.isTV) {
            _this2._opacityActive(150);
          }
          if (_this2.props.onFocus != null) {
            _this2.props.onFocus(event);
          }
        },
        onLongPress: this.props.onLongPress,
        onPress: this.props.onPress,
        onPressIn: function onPressIn(event) {
          _this2._opacityActive(event.dispatchConfig.registrationName === 'onResponderGrant' ? 0 : 150);
          if (_this2.props.onPressIn != null) {
            _this2.props.onPressIn(event);
          }
        },
        onPressOut: function onPressOut(event) {
          _this2._opacityInactive(250);
          if (_this2.props.onPressOut != null) {
            _this2.props.onPressOut(event);
          }
        }
      };
    }
  }, {
    key: "_setOpacityTo",
    value: function _setOpacityTo(toValue, duration) {
      _Animated.default.timing(this.state.anim, {
        toValue: toValue,
        duration: duration,
        easing: _Easing.default.inOut(_Easing.default.quad),
        useNativeDriver: true
      }).start();
    }
  }, {
    key: "_opacityActive",
    value: function _opacityActive(duration) {
      var _this$props$activeOpa;
      this._setOpacityTo((_this$props$activeOpa = this.props.activeOpacity) != null ? _this$props$activeOpa : 0.2, duration);
    }
  }, {
    key: "_opacityInactive",
    value: function _opacityInactive(duration) {
      this._setOpacityTo(this._getChildStyleOpacityWithDefault(), duration);
    }
  }, {
    key: "_getChildStyleOpacityWithDefault",
    value: function _getChildStyleOpacityWithDefault() {
      var _flattenStyle;
      var opacity = (_flattenStyle = (0, _flattenStyle4.default)(this.props.style)) == null ? void 0 : _flattenStyle.opacity;
      return typeof opacity === 'number' ? opacity : 1;
    }
  }, {
    key: "render",
    value: function render() {
      var _this$state$pressabil = this.state.pressability.getEventHandlers(),
        onBlur = _this$state$pressabil.onBlur,
        onFocus = _this$state$pressabil.onFocus,
        eventHandlersWithoutBlurAndFocus = (0, _objectWithoutProperties2.default)(_this$state$pressabil, _excluded);
      var accessibilityState = this.props.disabled != null ? _objectSpread(_objectSpread({}, this.props.accessibilityState), {}, {
        disabled: this.props.disabled
      }) : this.props.accessibilityState;
      return React.createElement(_Animated.default.View, (0, _extends2.default)({
        accessible: this.props.accessible !== false,
        accessibilityLabel: this.props.accessibilityLabel,
        accessibilityHint: this.props.accessibilityHint,
        accessibilityLanguage: this.props.accessibilityLanguage,
        accessibilityRole: this.props.accessibilityRole,
        accessibilityState: accessibilityState,
        accessibilityActions: this.props.accessibilityActions,
        onAccessibilityAction: this.props.onAccessibilityAction,
        accessibilityValue: this.props.accessibilityValue,
        importantForAccessibility: this.props.importantForAccessibility,
        accessibilityLiveRegion: this.props.accessibilityLiveRegion,
        accessibilityViewIsModal: this.props.accessibilityViewIsModal,
        accessibilityElementsHidden: this.props.accessibilityElementsHidden,
        style: [this.props.style, {
          opacity: this.state.anim
        }],
        nativeID: this.props.nativeID,
        testID: this.props.testID,
        onLayout: this.props.onLayout,
        nextFocusDown: this.props.nextFocusDown,
        nextFocusForward: this.props.nextFocusForward,
        nextFocusLeft: this.props.nextFocusLeft,
        nextFocusRight: this.props.nextFocusRight,
        nextFocusUp: this.props.nextFocusUp,
        hasTVPreferredFocus: this.props.hasTVPreferredFocus,
        hitSlop: this.props.hitSlop,
        focusable: this.props.focusable !== false && this.props.onPress !== undefined,
        ref: this.props.hostRef
      }, eventHandlersWithoutBlurAndFocus), this.props.children, __DEV__ ? React.createElement(_PressabilityDebug.PressabilityDebugView, {
        color: "cyan",
        hitSlop: this.props.hitSlop
      }) : null);
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      var _flattenStyle2, _flattenStyle3;
      this.state.pressability.configure(this._createPressabilityConfig());
      if (this.props.disabled !== prevProps.disabled || ((_flattenStyle2 = (0, _flattenStyle4.default)(prevProps.style)) == null ? void 0 : _flattenStyle2.opacity) !== ((_flattenStyle3 = (0, _flattenStyle4.default)(this.props.style)) == null ? void 0 : _flattenStyle3.opacity) !== undefined) {
        this._opacityInactive(250);
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.state.pressability.reset();
    }
  }]);
  return TouchableOpacity;
}(React.Component);
var Touchable = React.forwardRef(function (props, ref) {
  return React.createElement(TouchableOpacity, (0, _extends2.default)({}, props, {
    hostRef: ref
  }));
});
Touchable.displayName = 'TouchableOpacity';
module.exports = Touchable;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfUHJlc3NhYmlsaXR5IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfUHJlc3NhYmlsaXR5RGVidWciLCJfQW5pbWF0ZWQiLCJfRWFzaW5nIiwiX2ZsYXR0ZW5TdHlsZTQiLCJfUGxhdGZvcm0iLCJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX2V4Y2x1ZGVkIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwibm9kZUludGVyb3AiLCJXZWFrTWFwIiwiY2FjaGVCYWJlbEludGVyb3AiLCJjYWNoZU5vZGVJbnRlcm9wIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsInNldCIsIm93bktleXMiLCJvYmplY3QiLCJlbnVtZXJhYmxlT25seSIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzeW1ib2xzIiwiZmlsdGVyIiwic3ltIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsIl9jcmVhdGVTdXBlciIsIkRlcml2ZWQiLCJoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9jcmVhdGVTdXBlckludGVybmFsIiwiU3VwZXIiLCJfZ2V0UHJvdG90eXBlT2YyIiwicmVzdWx0IiwiTmV3VGFyZ2V0IiwiY29uc3RydWN0b3IiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwic2hhbSIsIlByb3h5IiwiQm9vbGVhbiIsInZhbHVlT2YiLCJlIiwiVG91Y2hhYmxlT3BhY2l0eSIsIl9SZWFjdCRDb21wb25lbnQiLCJfaW5oZXJpdHMyIiwiX3N1cGVyIiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2xlbiIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJjb25jYXQiLCJzdGF0ZSIsImFuaW0iLCJBbmltYXRlZCIsIlZhbHVlIiwiX2dldENoaWxkU3R5bGVPcGFjaXR5V2l0aERlZmF1bHQiLCJwcmVzc2FiaWxpdHkiLCJQcmVzc2FiaWxpdHkiLCJfY3JlYXRlUHJlc3NhYmlsaXR5Q29uZmlnIiwiX2NyZWF0ZUNsYXNzMiIsInZhbHVlIiwiX3RoaXMkcHJvcHMkZGlzYWJsZWQiLCJfdGhpcyRwcm9wcyRhY2Nlc3NpYmkiLCJfdGhpczIiLCJjYW5jZWxhYmxlIiwicHJvcHMiLCJyZWplY3RSZXNwb25kZXJUZXJtaW5hdGlvbiIsImRpc2FibGVkIiwiYWNjZXNzaWJpbGl0eVN0YXRlIiwiaGl0U2xvcCIsImRlbGF5TG9uZ1ByZXNzIiwiZGVsYXlQcmVzc0luIiwiZGVsYXlQcmVzc091dCIsIm1pblByZXNzRHVyYXRpb24iLCJwcmVzc1JlY3RPZmZzZXQiLCJwcmVzc1JldGVudGlvbk9mZnNldCIsIm9uQmx1ciIsImV2ZW50IiwiUGxhdGZvcm0iLCJpc1RWIiwiX29wYWNpdHlJbmFjdGl2ZSIsIm9uRm9jdXMiLCJfb3BhY2l0eUFjdGl2ZSIsIm9uTG9uZ1ByZXNzIiwib25QcmVzcyIsIm9uUHJlc3NJbiIsImRpc3BhdGNoQ29uZmlnIiwicmVnaXN0cmF0aW9uTmFtZSIsIm9uUHJlc3NPdXQiLCJfc2V0T3BhY2l0eVRvIiwidG9WYWx1ZSIsImR1cmF0aW9uIiwidGltaW5nIiwiZWFzaW5nIiwiRWFzaW5nIiwiaW5PdXQiLCJxdWFkIiwidXNlTmF0aXZlRHJpdmVyIiwic3RhcnQiLCJfdGhpcyRwcm9wcyRhY3RpdmVPcGEiLCJhY3RpdmVPcGFjaXR5IiwiX2ZsYXR0ZW5TdHlsZSIsIm9wYWNpdHkiLCJmbGF0dGVuU3R5bGUiLCJzdHlsZSIsInJlbmRlciIsIl90aGlzJHN0YXRlJHByZXNzYWJpbCIsImdldEV2ZW50SGFuZGxlcnMiLCJldmVudEhhbmRsZXJzV2l0aG91dEJsdXJBbmRGb2N1cyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJjcmVhdGVFbGVtZW50IiwiVmlldyIsIl9leHRlbmRzMiIsImFjY2Vzc2libGUiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJhY2Nlc3NpYmlsaXR5SGludCIsImFjY2Vzc2liaWxpdHlMYW5ndWFnZSIsImFjY2Vzc2liaWxpdHlSb2xlIiwiYWNjZXNzaWJpbGl0eUFjdGlvbnMiLCJvbkFjY2Vzc2liaWxpdHlBY3Rpb24iLCJhY2Nlc3NpYmlsaXR5VmFsdWUiLCJpbXBvcnRhbnRGb3JBY2Nlc3NpYmlsaXR5IiwiYWNjZXNzaWJpbGl0eUxpdmVSZWdpb24iLCJhY2Nlc3NpYmlsaXR5Vmlld0lzTW9kYWwiLCJhY2Nlc3NpYmlsaXR5RWxlbWVudHNIaWRkZW4iLCJuYXRpdmVJRCIsInRlc3RJRCIsIm9uTGF5b3V0IiwibmV4dEZvY3VzRG93biIsIm5leHRGb2N1c0ZvcndhcmQiLCJuZXh0Rm9jdXNMZWZ0IiwibmV4dEZvY3VzUmlnaHQiLCJuZXh0Rm9jdXNVcCIsImhhc1RWUHJlZmVycmVkRm9jdXMiLCJmb2N1c2FibGUiLCJ1bmRlZmluZWQiLCJyZWYiLCJob3N0UmVmIiwiY2hpbGRyZW4iLCJfX0RFVl9fIiwiUHJlc3NhYmlsaXR5RGVidWdWaWV3IiwiY29sb3IiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJfZmxhdHRlblN0eWxlMiIsIl9mbGF0dGVuU3R5bGUzIiwiY29uZmlndXJlIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJyZXNldCIsIkNvbXBvbmVudCIsIlRvdWNoYWJsZSIsImZvcndhcmRSZWYiLCJkaXNwbGF5TmFtZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJUb3VjaGFibGVPcGFjaXR5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvdyBzdHJpY3QtbG9jYWxcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgUHJlc3NhYmlsaXR5LCB7XG4gIHR5cGUgUHJlc3NhYmlsaXR5Q29uZmlnLFxufSBmcm9tICcuLi8uLi9QcmVzc2FiaWxpdHkvUHJlc3NhYmlsaXR5JztcbmltcG9ydCB7UHJlc3NhYmlsaXR5RGVidWdWaWV3fSBmcm9tICcuLi8uLi9QcmVzc2FiaWxpdHkvUHJlc3NhYmlsaXR5RGVidWcnO1xuaW1wb3J0IHR5cGVvZiBUb3VjaGFibGVXaXRob3V0RmVlZGJhY2sgZnJvbSAnLi9Ub3VjaGFibGVXaXRob3V0RmVlZGJhY2snO1xuaW1wb3J0IEFuaW1hdGVkIGZyb20gJ3JlYWN0LW5hdGl2ZS9MaWJyYXJpZXMvQW5pbWF0ZWQvQW5pbWF0ZWQnO1xuaW1wb3J0IEVhc2luZyBmcm9tICdyZWFjdC1uYXRpdmUvTGlicmFyaWVzL0FuaW1hdGVkL0Vhc2luZyc7XG5pbXBvcnQgdHlwZSB7Vmlld1N0eWxlUHJvcH0gZnJvbSAncmVhY3QtbmF0aXZlL0xpYnJhcmllcy9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IGZsYXR0ZW5TdHlsZSBmcm9tICdyZWFjdC1uYXRpdmUvTGlicmFyaWVzL1N0eWxlU2hlZXQvZmxhdHRlblN0eWxlJztcbmltcG9ydCBQbGF0Zm9ybSBmcm9tICcuLi8uLi9VdGlsaXRpZXMvUGxhdGZvcm0nO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG50eXBlIFRWUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgaGFzVFZQcmVmZXJyZWRGb2N1cz86ID9ib29sZWFuLFxuICBuZXh0Rm9jdXNEb3duPzogP251bWJlcixcbiAgbmV4dEZvY3VzRm9yd2FyZD86ID9udW1iZXIsXG4gIG5leHRGb2N1c0xlZnQ/OiA/bnVtYmVyLFxuICBuZXh0Rm9jdXNSaWdodD86ID9udW1iZXIsXG4gIG5leHRGb2N1c1VwPzogP251bWJlcixcbnx9PjtcblxudHlwZSBQcm9wcyA9ICRSZWFkT25seTx7fFxuICAuLi5SZWFjdC5FbGVtZW50Q29uZmlnPFRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjaz4sXG4gIC4uLlRWUHJvcHMsXG5cbiAgYWN0aXZlT3BhY2l0eT86ID9udW1iZXIsXG4gIHN0eWxlPzogP1ZpZXdTdHlsZVByb3AsXG5cbiAgaG9zdFJlZj86ID9SZWFjdC5SZWY8dHlwZW9mIEFuaW1hdGVkLlZpZXc+LFxufH0+O1xuXG50eXBlIFN0YXRlID0gJFJlYWRPbmx5PHt8XG4gIGFuaW06IEFuaW1hdGVkLlZhbHVlLFxuICBwcmVzc2FiaWxpdHk6IFByZXNzYWJpbGl0eSxcbnx9PjtcblxuLyoqXG4gKiBBIHdyYXBwZXIgZm9yIG1ha2luZyB2aWV3cyByZXNwb25kIHByb3Blcmx5IHRvIHRvdWNoZXMuXG4gKiBPbiBwcmVzcyBkb3duLCB0aGUgb3BhY2l0eSBvZiB0aGUgd3JhcHBlZCB2aWV3IGlzIGRlY3JlYXNlZCwgZGltbWluZyBpdC5cbiAqXG4gKiBPcGFjaXR5IGlzIGNvbnRyb2xsZWQgYnkgd3JhcHBpbmcgdGhlIGNoaWxkcmVuIGluIGFuIEFuaW1hdGVkLlZpZXcsIHdoaWNoIGlzXG4gKiBhZGRlZCB0byB0aGUgdmlldyBoaWVyYXJjaHkuICBCZSBhd2FyZSB0aGF0IHRoaXMgY2FuIGFmZmVjdCBsYXlvdXQuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIHJlbmRlckJ1dHRvbjogZnVuY3Rpb24oKSB7XG4gKiAgIHJldHVybiAoXG4gKiAgICAgPFRvdWNoYWJsZU9wYWNpdHkgb25QcmVzcz17dGhpcy5fb25QcmVzc0J1dHRvbn0+XG4gKiAgICAgICA8SW1hZ2VcbiAqICAgICAgICAgc3R5bGU9e3N0eWxlcy5idXR0b259XG4gKiAgICAgICAgIHNvdXJjZT17cmVxdWlyZSgnLi9teUJ1dHRvbi5wbmcnKX1cbiAqICAgICAgIC8+XG4gKiAgICAgPC9Ub3VjaGFibGVPcGFjaXR5PlxuICogICApO1xuICogfSxcbiAqIGBgYFxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBSZWFjdE5hdGl2ZVdlYlBsYXllclxuICogaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xuICogaW1wb3J0IHtcbiAqICAgQXBwUmVnaXN0cnksXG4gKiAgIFN0eWxlU2hlZXQsXG4gKiAgIFRvdWNoYWJsZU9wYWNpdHksXG4gKiAgIFRleHQsXG4gKiAgIFZpZXcsXG4gKiB9IGZyb20gJ3JlYWN0LW5hdGl2ZSdcbiAqXG4gKiBjbGFzcyBBcHAgZXh0ZW5kcyBDb21wb25lbnQge1xuICogICBzdGF0ZSA9IHsgY291bnQ6IDAgfVxuICpcbiAqICAgb25QcmVzcyA9ICgpID0+IHtcbiAqICAgICB0aGlzLnNldFN0YXRlKHN0YXRlID0+ICh7XG4gKiAgICAgICBjb3VudDogc3RhdGUuY291bnQgKyAxXG4gKiAgICAgfSkpO1xuICogICB9O1xuICpcbiAqICByZW5kZXIoKSB7XG4gKiAgICByZXR1cm4gKFxuICogICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmNvbnRhaW5lcn0+XG4gKiAgICAgICAgPFRvdWNoYWJsZU9wYWNpdHlcbiAqICAgICAgICAgIHN0eWxlPXtzdHlsZXMuYnV0dG9ufVxuICogICAgICAgICAgb25QcmVzcz17dGhpcy5vblByZXNzfT5cbiAqICAgICAgICAgIDxUZXh0PiBUb3VjaCBIZXJlIDwvVGV4dD5cbiAqICAgICAgICA8L1RvdWNoYWJsZU9wYWNpdHk+XG4gKiAgICAgICAgPFZpZXcgc3R5bGU9e1tzdHlsZXMuY291bnRDb250YWluZXJdfT5cbiAqICAgICAgICAgIDxUZXh0IHN0eWxlPXtbc3R5bGVzLmNvdW50VGV4dF19PlxuICogICAgICAgICAgICAgeyB0aGlzLnN0YXRlLmNvdW50ICE9PSAwID8gdGhpcy5zdGF0ZS5jb3VudDogbnVsbH1cbiAqICAgICAgICAgICA8L1RleHQ+XG4gKiAgICAgICAgIDwvVmlldz5cbiAqICAgICAgIDwvVmlldz5cbiAqICAgICApXG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBjb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gKiAgIGNvbnRhaW5lcjoge1xuICogICAgIGZsZXg6IDEsXG4gKiAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICogICAgIHBhZGRpbmdIb3Jpem9udGFsOiAxMFxuICogICB9LFxuICogICBidXR0b246IHtcbiAqICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAqICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjREREREREJyxcbiAqICAgICBwYWRkaW5nOiAxMFxuICogICB9LFxuICogICBjb3VudENvbnRhaW5lcjoge1xuICogICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICogICAgIHBhZGRpbmc6IDEwXG4gKiAgIH0sXG4gKiAgIGNvdW50VGV4dDoge1xuICogICAgIGNvbG9yOiAnI0ZGMDBGRidcbiAqICAgfVxuICogfSlcbiAqXG4gKiBBcHBSZWdpc3RyeS5yZWdpc3RlckNvbXBvbmVudCgnQXBwJywgKCkgPT4gQXBwKVxuICogYGBgXG4gKlxuICovXG5jbGFzcyBUb3VjaGFibGVPcGFjaXR5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xuICBzdGF0ZTogU3RhdGUgPSB7XG4gICAgYW5pbTogbmV3IEFuaW1hdGVkLlZhbHVlKHRoaXMuX2dldENoaWxkU3R5bGVPcGFjaXR5V2l0aERlZmF1bHQoKSksXG4gICAgcHJlc3NhYmlsaXR5OiBuZXcgUHJlc3NhYmlsaXR5KHRoaXMuX2NyZWF0ZVByZXNzYWJpbGl0eUNvbmZpZygpKSxcbiAgfTtcblxuICBfY3JlYXRlUHJlc3NhYmlsaXR5Q29uZmlnKCk6IFByZXNzYWJpbGl0eUNvbmZpZyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNhbmNlbGFibGU6ICF0aGlzLnByb3BzLnJlamVjdFJlc3BvbmRlclRlcm1pbmF0aW9uLFxuICAgICAgZGlzYWJsZWQ6IHRoaXMucHJvcHMuZGlzYWJsZWQgPz8gdGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5U3RhdGU/LmRpc2FibGVkLFxuICAgICAgaGl0U2xvcDogdGhpcy5wcm9wcy5oaXRTbG9wLFxuICAgICAgZGVsYXlMb25nUHJlc3M6IHRoaXMucHJvcHMuZGVsYXlMb25nUHJlc3MsXG4gICAgICBkZWxheVByZXNzSW46IHRoaXMucHJvcHMuZGVsYXlQcmVzc0luLFxuICAgICAgZGVsYXlQcmVzc091dDogdGhpcy5wcm9wcy5kZWxheVByZXNzT3V0LFxuICAgICAgbWluUHJlc3NEdXJhdGlvbjogMCxcbiAgICAgIHByZXNzUmVjdE9mZnNldDogdGhpcy5wcm9wcy5wcmVzc1JldGVudGlvbk9mZnNldCxcbiAgICAgIG9uQmx1cjogZXZlbnQgPT4ge1xuICAgICAgICBpZiAoUGxhdGZvcm0uaXNUVikge1xuICAgICAgICAgIHRoaXMuX29wYWNpdHlJbmFjdGl2ZSgyNTApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByb3BzLm9uQmx1ciAhPSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5vbkJsdXIoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25Gb2N1czogZXZlbnQgPT4ge1xuICAgICAgICBpZiAoUGxhdGZvcm0uaXNUVikge1xuICAgICAgICAgIHRoaXMuX29wYWNpdHlBY3RpdmUoMTUwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wcm9wcy5vbkZvY3VzICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uRm9jdXMoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25Mb25nUHJlc3M6IHRoaXMucHJvcHMub25Mb25nUHJlc3MsXG4gICAgICBvblByZXNzOiB0aGlzLnByb3BzLm9uUHJlc3MsXG4gICAgICBvblByZXNzSW46IGV2ZW50ID0+IHtcbiAgICAgICAgdGhpcy5fb3BhY2l0eUFjdGl2ZShcbiAgICAgICAgICBldmVudC5kaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lID09PSAnb25SZXNwb25kZXJHcmFudCdcbiAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgOiAxNTAsXG4gICAgICAgICk7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLm9uUHJlc3NJbiAhPSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5vblByZXNzSW4oZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25QcmVzc091dDogZXZlbnQgPT4ge1xuICAgICAgICB0aGlzLl9vcGFjaXR5SW5hY3RpdmUoMjUwKTtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25QcmVzc091dCAhPSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5vblByZXNzT3V0KGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEFuaW1hdGUgdGhlIHRvdWNoYWJsZSB0byBhIG5ldyBvcGFjaXR5LlxuICAgKi9cbiAgX3NldE9wYWNpdHlUbyh0b1ZhbHVlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiB2b2lkIHtcbiAgICBBbmltYXRlZC50aW1pbmcodGhpcy5zdGF0ZS5hbmltLCB7XG4gICAgICB0b1ZhbHVlLFxuICAgICAgZHVyYXRpb24sXG4gICAgICBlYXNpbmc6IEVhc2luZy5pbk91dChFYXNpbmcucXVhZCksXG4gICAgICB1c2VOYXRpdmVEcml2ZXI6IHRydWUsXG4gICAgfSkuc3RhcnQoKTtcbiAgfVxuXG4gIF9vcGFjaXR5QWN0aXZlKGR1cmF0aW9uOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9zZXRPcGFjaXR5VG8odGhpcy5wcm9wcy5hY3RpdmVPcGFjaXR5ID8/IDAuMiwgZHVyYXRpb24pO1xuICB9XG5cbiAgX29wYWNpdHlJbmFjdGl2ZShkdXJhdGlvbjogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5fc2V0T3BhY2l0eVRvKHRoaXMuX2dldENoaWxkU3R5bGVPcGFjaXR5V2l0aERlZmF1bHQoKSwgZHVyYXRpb24pO1xuICB9XG5cbiAgX2dldENoaWxkU3R5bGVPcGFjaXR5V2l0aERlZmF1bHQoKTogbnVtYmVyIHtcbiAgICBjb25zdCBvcGFjaXR5ID0gZmxhdHRlblN0eWxlKHRoaXMucHJvcHMuc3R5bGUpPy5vcGFjaXR5O1xuICAgIHJldHVybiB0eXBlb2Ygb3BhY2l0eSA9PT0gJ251bWJlcicgPyBvcGFjaXR5IDogMTtcbiAgfVxuXG4gIHJlbmRlcigpOiBSZWFjdC5Ob2RlIHtcbiAgICAvLyBCQUNLV0FSRC1DT01QQVRJQklMSVRZOiBGb2N1cyBhbmQgYmx1ciBldmVudHMgd2VyZSBuZXZlciBzdXBwb3J0ZWQgYmVmb3JlXG4gICAgLy8gYWRvcHRpbmcgYFByZXNzYWJpbGl0eWAsIHNvIHByZXNlcnZlIHRoYXQgYmVoYXZpb3IuXG4gICAgY29uc3Qge29uQmx1ciwgb25Gb2N1cywgLi4uZXZlbnRIYW5kbGVyc1dpdGhvdXRCbHVyQW5kRm9jdXN9ID1cbiAgICAgIHRoaXMuc3RhdGUucHJlc3NhYmlsaXR5LmdldEV2ZW50SGFuZGxlcnMoKTtcblxuICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlTdGF0ZSA9XG4gICAgICB0aGlzLnByb3BzLmRpc2FibGVkICE9IG51bGxcbiAgICAgICAgPyB7XG4gICAgICAgICAgICAuLi50aGlzLnByb3BzLmFjY2Vzc2liaWxpdHlTdGF0ZSxcbiAgICAgICAgICAgIGRpc2FibGVkOiB0aGlzLnByb3BzLmRpc2FibGVkLFxuICAgICAgICAgIH1cbiAgICAgICAgOiB0aGlzLnByb3BzLmFjY2Vzc2liaWxpdHlTdGF0ZTtcblxuICAgIHJldHVybiAoXG4gICAgICA8QW5pbWF0ZWQuVmlld1xuICAgICAgICBhY2Nlc3NpYmxlPXt0aGlzLnByb3BzLmFjY2Vzc2libGUgIT09IGZhbHNlfVxuICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw9e3RoaXMucHJvcHMuYWNjZXNzaWJpbGl0eUxhYmVsfVxuICAgICAgICBhY2Nlc3NpYmlsaXR5SGludD17dGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5SGludH1cbiAgICAgICAgYWNjZXNzaWJpbGl0eUxhbmd1YWdlPXt0aGlzLnByb3BzLmFjY2Vzc2liaWxpdHlMYW5ndWFnZX1cbiAgICAgICAgYWNjZXNzaWJpbGl0eVJvbGU9e3RoaXMucHJvcHMuYWNjZXNzaWJpbGl0eVJvbGV9XG4gICAgICAgIGFjY2Vzc2liaWxpdHlTdGF0ZT17YWNjZXNzaWJpbGl0eVN0YXRlfVxuICAgICAgICBhY2Nlc3NpYmlsaXR5QWN0aW9ucz17dGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5QWN0aW9uc31cbiAgICAgICAgb25BY2Nlc3NpYmlsaXR5QWN0aW9uPXt0aGlzLnByb3BzLm9uQWNjZXNzaWJpbGl0eUFjdGlvbn1cbiAgICAgICAgYWNjZXNzaWJpbGl0eVZhbHVlPXt0aGlzLnByb3BzLmFjY2Vzc2liaWxpdHlWYWx1ZX1cbiAgICAgICAgaW1wb3J0YW50Rm9yQWNjZXNzaWJpbGl0eT17dGhpcy5wcm9wcy5pbXBvcnRhbnRGb3JBY2Nlc3NpYmlsaXR5fVxuICAgICAgICBhY2Nlc3NpYmlsaXR5TGl2ZVJlZ2lvbj17dGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5TGl2ZVJlZ2lvbn1cbiAgICAgICAgYWNjZXNzaWJpbGl0eVZpZXdJc01vZGFsPXt0aGlzLnByb3BzLmFjY2Vzc2liaWxpdHlWaWV3SXNNb2RhbH1cbiAgICAgICAgYWNjZXNzaWJpbGl0eUVsZW1lbnRzSGlkZGVuPXt0aGlzLnByb3BzLmFjY2Vzc2liaWxpdHlFbGVtZW50c0hpZGRlbn1cbiAgICAgICAgc3R5bGU9e1t0aGlzLnByb3BzLnN0eWxlLCB7b3BhY2l0eTogdGhpcy5zdGF0ZS5hbmltfV19XG4gICAgICAgIG5hdGl2ZUlEPXt0aGlzLnByb3BzLm5hdGl2ZUlEfVxuICAgICAgICB0ZXN0SUQ9e3RoaXMucHJvcHMudGVzdElEfVxuICAgICAgICBvbkxheW91dD17dGhpcy5wcm9wcy5vbkxheW91dH1cbiAgICAgICAgbmV4dEZvY3VzRG93bj17dGhpcy5wcm9wcy5uZXh0Rm9jdXNEb3dufVxuICAgICAgICBuZXh0Rm9jdXNGb3J3YXJkPXt0aGlzLnByb3BzLm5leHRGb2N1c0ZvcndhcmR9XG4gICAgICAgIG5leHRGb2N1c0xlZnQ9e3RoaXMucHJvcHMubmV4dEZvY3VzTGVmdH1cbiAgICAgICAgbmV4dEZvY3VzUmlnaHQ9e3RoaXMucHJvcHMubmV4dEZvY3VzUmlnaHR9XG4gICAgICAgIG5leHRGb2N1c1VwPXt0aGlzLnByb3BzLm5leHRGb2N1c1VwfVxuICAgICAgICBoYXNUVlByZWZlcnJlZEZvY3VzPXt0aGlzLnByb3BzLmhhc1RWUHJlZmVycmVkRm9jdXN9XG4gICAgICAgIGhpdFNsb3A9e3RoaXMucHJvcHMuaGl0U2xvcH1cbiAgICAgICAgZm9jdXNhYmxlPXtcbiAgICAgICAgICB0aGlzLnByb3BzLmZvY3VzYWJsZSAhPT0gZmFsc2UgJiYgdGhpcy5wcm9wcy5vblByZXNzICE9PSB1bmRlZmluZWRcbiAgICAgICAgfVxuICAgICAgICByZWY9e3RoaXMucHJvcHMuaG9zdFJlZn1cbiAgICAgICAgey4uLmV2ZW50SGFuZGxlcnNXaXRob3V0Qmx1ckFuZEZvY3VzfT5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgIHtfX0RFVl9fID8gKFxuICAgICAgICAgIDxQcmVzc2FiaWxpdHlEZWJ1Z1ZpZXcgY29sb3I9XCJjeWFuXCIgaGl0U2xvcD17dGhpcy5wcm9wcy5oaXRTbG9wfSAvPlxuICAgICAgICApIDogbnVsbH1cbiAgICAgIDwvQW5pbWF0ZWQuVmlldz5cbiAgICApO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGUpIHtcbiAgICB0aGlzLnN0YXRlLnByZXNzYWJpbGl0eS5jb25maWd1cmUodGhpcy5fY3JlYXRlUHJlc3NhYmlsaXR5Q29uZmlnKCkpO1xuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMuZGlzYWJsZWQgIT09IHByZXZQcm9wcy5kaXNhYmxlZCB8fFxuICAgICAgKGZsYXR0ZW5TdHlsZShwcmV2UHJvcHMuc3R5bGUpPy5vcGFjaXR5ICE9PVxuICAgICAgICBmbGF0dGVuU3R5bGUodGhpcy5wcm9wcy5zdHlsZSk/Lm9wYWNpdHkpICE9PVxuICAgICAgICB1bmRlZmluZWRcbiAgICApIHtcbiAgICAgIHRoaXMuX29wYWNpdHlJbmFjdGl2ZSgyNTApO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCk6IHZvaWQge1xuICAgIHRoaXMuc3RhdGUucHJlc3NhYmlsaXR5LnJlc2V0KCk7XG4gIH1cbn1cblxuY29uc3QgVG91Y2hhYmxlID0gKFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IChcbiAgPFRvdWNoYWJsZU9wYWNpdHkgey4uLnByb3BzfSBob3N0UmVmPXtyZWZ9IC8+XG4pKTogUmVhY3QuQWJzdHJhY3RDb21wb25lbnQ8UHJvcHMsIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIEFuaW1hdGVkLlZpZXc+Pik7XG5cblRvdWNoYWJsZS5kaXNwbGF5TmFtZSA9ICdUb3VjaGFibGVPcGFjaXR5JztcblxubW9kdWxlLmV4cG9ydHMgPSBUb3VjaGFibGU7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBVUEsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBR0EsSUFBQUMsa0JBQUEsR0FBQUQsT0FBQTtBQUVBLElBQUFFLFNBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLE9BQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFJLGNBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLFNBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLEtBQUEsR0FBQUMsdUJBQUEsQ0FBQVAsT0FBQTtBQUErQixJQUFBUSxTQUFBO0FBQUEsU0FBQUMseUJBQUFDLFdBQUEsZUFBQUMsT0FBQSxrQ0FBQUMsaUJBQUEsT0FBQUQsT0FBQSxRQUFBRSxnQkFBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLHlCQUFBQyxXQUFBLFdBQUFBLFdBQUEsR0FBQUcsZ0JBQUEsR0FBQUQsaUJBQUEsS0FBQUYsV0FBQTtBQUFBLFNBQUFILHdCQUFBTyxHQUFBLEVBQUFKLFdBQUEsU0FBQUEsV0FBQSxJQUFBSSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxXQUFBRCxHQUFBLFFBQUFBLEdBQUEsb0JBQUFBLEdBQUEsd0JBQUFBLEdBQUEsNEJBQUFFLE9BQUEsRUFBQUYsR0FBQSxVQUFBRyxLQUFBLEdBQUFSLHdCQUFBLENBQUFDLFdBQUEsT0FBQU8sS0FBQSxJQUFBQSxLQUFBLENBQUFDLEdBQUEsQ0FBQUosR0FBQSxZQUFBRyxLQUFBLENBQUFFLEdBQUEsQ0FBQUwsR0FBQSxTQUFBTSxNQUFBLFdBQUFDLHFCQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLEdBQUEsSUFBQVgsR0FBQSxRQUFBVyxHQUFBLGtCQUFBSCxNQUFBLENBQUFJLFNBQUEsQ0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFkLEdBQUEsRUFBQVcsR0FBQSxTQUFBSSxJQUFBLEdBQUFSLHFCQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQVYsR0FBQSxFQUFBVyxHQUFBLGNBQUFJLElBQUEsS0FBQUEsSUFBQSxDQUFBVixHQUFBLElBQUFVLElBQUEsQ0FBQUMsR0FBQSxLQUFBUixNQUFBLENBQUFDLGNBQUEsQ0FBQUgsTUFBQSxFQUFBSyxHQUFBLEVBQUFJLElBQUEsWUFBQVQsTUFBQSxDQUFBSyxHQUFBLElBQUFYLEdBQUEsQ0FBQVcsR0FBQSxTQUFBTCxNQUFBLENBQUFKLE9BQUEsR0FBQUYsR0FBQSxNQUFBRyxLQUFBLElBQUFBLEtBQUEsQ0FBQWEsR0FBQSxDQUFBaEIsR0FBQSxFQUFBTSxNQUFBLFlBQUFBLE1BQUE7QUFBQSxTQUFBVyxRQUFBQyxNQUFBLEVBQUFDLGNBQUEsUUFBQUMsSUFBQSxHQUFBWixNQUFBLENBQUFZLElBQUEsQ0FBQUYsTUFBQSxPQUFBVixNQUFBLENBQUFhLHFCQUFBLFFBQUFDLE9BQUEsR0FBQWQsTUFBQSxDQUFBYSxxQkFBQSxDQUFBSCxNQUFBLEdBQUFDLGNBQUEsS0FBQUcsT0FBQSxHQUFBQSxPQUFBLENBQUFDLE1BQUEsV0FBQUMsR0FBQSxXQUFBaEIsTUFBQSxDQUFBRSx3QkFBQSxDQUFBUSxNQUFBLEVBQUFNLEdBQUEsRUFBQUMsVUFBQSxPQUFBTCxJQUFBLENBQUFNLElBQUEsQ0FBQUMsS0FBQSxDQUFBUCxJQUFBLEVBQUFFLE9BQUEsWUFBQUYsSUFBQTtBQUFBLFNBQUFRLGNBQUFDLE1BQUEsYUFBQUMsQ0FBQSxNQUFBQSxDQUFBLEdBQUFDLFNBQUEsQ0FBQUMsTUFBQSxFQUFBRixDQUFBLFVBQUFHLE1BQUEsV0FBQUYsU0FBQSxDQUFBRCxDQUFBLElBQUFDLFNBQUEsQ0FBQUQsQ0FBQSxRQUFBQSxDQUFBLE9BQUFiLE9BQUEsQ0FBQVQsTUFBQSxDQUFBeUIsTUFBQSxPQUFBQyxPQUFBLFdBQUF2QixHQUFBLFFBQUF3QixnQkFBQSxDQUFBakMsT0FBQSxFQUFBMkIsTUFBQSxFQUFBbEIsR0FBQSxFQUFBc0IsTUFBQSxDQUFBdEIsR0FBQSxTQUFBSCxNQUFBLENBQUE0Qix5QkFBQSxHQUFBNUIsTUFBQSxDQUFBNkIsZ0JBQUEsQ0FBQVIsTUFBQSxFQUFBckIsTUFBQSxDQUFBNEIseUJBQUEsQ0FBQUgsTUFBQSxLQUFBaEIsT0FBQSxDQUFBVCxNQUFBLENBQUF5QixNQUFBLEdBQUFDLE9BQUEsV0FBQXZCLEdBQUEsSUFBQUgsTUFBQSxDQUFBQyxjQUFBLENBQUFvQixNQUFBLEVBQUFsQixHQUFBLEVBQUFILE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQXVCLE1BQUEsRUFBQXRCLEdBQUEsaUJBQUFrQixNQUFBO0FBQUEsU0FBQVMsYUFBQUMsT0FBQSxRQUFBQyx5QkFBQSxHQUFBQyx5QkFBQSxvQkFBQUMscUJBQUEsUUFBQUMsS0FBQSxPQUFBQyxnQkFBQSxDQUFBMUMsT0FBQSxFQUFBcUMsT0FBQSxHQUFBTSxNQUFBLE1BQUFMLHlCQUFBLFFBQUFNLFNBQUEsT0FBQUYsZ0JBQUEsQ0FBQTFDLE9BQUEsUUFBQTZDLFdBQUEsRUFBQUYsTUFBQSxHQUFBRyxPQUFBLENBQUFDLFNBQUEsQ0FBQU4sS0FBQSxFQUFBWixTQUFBLEVBQUFlLFNBQUEsWUFBQUQsTUFBQSxHQUFBRixLQUFBLENBQUFoQixLQUFBLE9BQUFJLFNBQUEsZ0JBQUFtQiwyQkFBQSxDQUFBaEQsT0FBQSxRQUFBMkMsTUFBQTtBQUFBLFNBQUFKLDBCQUFBLGVBQUFPLE9BQUEscUJBQUFBLE9BQUEsQ0FBQUMsU0FBQSxvQkFBQUQsT0FBQSxDQUFBQyxTQUFBLENBQUFFLElBQUEsMkJBQUFDLEtBQUEsb0NBQUFDLE9BQUEsQ0FBQXpDLFNBQUEsQ0FBQTBDLE9BQUEsQ0FBQXhDLElBQUEsQ0FBQWtDLE9BQUEsQ0FBQUMsU0FBQSxDQUFBSSxPQUFBLDhDQUFBRSxDQUFBO0FBQUEsSUE4R3pCQyxnQkFBZ0IsYUFBQUMsZ0JBQUE7RUFBQSxJQUFBQyxVQUFBLENBQUF4RCxPQUFBLEVBQUFzRCxnQkFBQSxFQUFBQyxnQkFBQTtFQUFBLElBQUFFLE1BQUEsR0FBQXJCLFlBQUEsQ0FBQWtCLGdCQUFBO0VBQUEsU0FBQUEsaUJBQUE7SUFBQSxJQUFBSSxLQUFBO0lBQUEsSUFBQUMsZ0JBQUEsQ0FBQTNELE9BQUEsUUFBQXNELGdCQUFBO0lBQUEsU0FBQU0sSUFBQSxHQUFBL0IsU0FBQSxDQUFBQyxNQUFBLEVBQUErQixJQUFBLE9BQUFDLEtBQUEsQ0FBQUYsSUFBQSxHQUFBRyxJQUFBLE1BQUFBLElBQUEsR0FBQUgsSUFBQSxFQUFBRyxJQUFBO01BQUFGLElBQUEsQ0FBQUUsSUFBQSxJQUFBbEMsU0FBQSxDQUFBa0MsSUFBQTtJQUFBO0lBQUFMLEtBQUEsR0FBQUQsTUFBQSxDQUFBN0MsSUFBQSxDQUFBYSxLQUFBLENBQUFnQyxNQUFBLFNBQUFPLE1BQUEsQ0FBQUgsSUFBQTtJQUFBSCxLQUFBLENBQ3BCTyxLQUFLLEdBQVU7TUFDYkMsSUFBSSxFQUFFLElBQUlDLGlCQUFRLENBQUNDLEtBQUssQ0FBQ1YsS0FBQSxDQUFLVyxnQ0FBZ0MsRUFBRSxDQUFDO01BQ2pFQyxZQUFZLEVBQUUsSUFBSUMscUJBQVksQ0FBQ2IsS0FBQSxDQUFLYyx5QkFBeUIsRUFBRTtJQUNqRSxDQUFDO0lBQUEsT0FBQWQsS0FBQTtFQUFBO0VBQUEsSUFBQWUsYUFBQSxDQUFBekUsT0FBQSxFQUFBc0QsZ0JBQUE7SUFBQTdDLEdBQUE7SUFBQWlFLEtBQUEsRUFFRCxTQUFBRiwwQkFBQSxFQUFnRDtNQUFBLElBQUFHLG9CQUFBO1FBQUFDLHFCQUFBO1FBQUFDLE1BQUE7TUFDOUMsT0FBTztRQUNMQyxVQUFVLEVBQUUsQ0FBQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0MsMEJBQTBCO1FBQ2xEQyxRQUFRLEdBQUFOLG9CQUFBLEdBQUUsSUFBSSxDQUFDSSxLQUFLLENBQUNFLFFBQVEsWUFBQU4sb0JBQUEsSUFBQUMscUJBQUEsR0FBSSxJQUFJLENBQUNHLEtBQUssQ0FBQ0csa0JBQWtCLHFCQUE3Qk4scUJBQUEsQ0FBK0JLLFFBQVE7UUFDeEVFLE9BQU8sRUFBRSxJQUFJLENBQUNKLEtBQUssQ0FBQ0ksT0FBTztRQUMzQkMsY0FBYyxFQUFFLElBQUksQ0FBQ0wsS0FBSyxDQUFDSyxjQUFjO1FBQ3pDQyxZQUFZLEVBQUUsSUFBSSxDQUFDTixLQUFLLENBQUNNLFlBQVk7UUFDckNDLGFBQWEsRUFBRSxJQUFJLENBQUNQLEtBQUssQ0FBQ08sYUFBYTtRQUN2Q0MsZ0JBQWdCLEVBQUUsQ0FBQztRQUNuQkMsZUFBZSxFQUFFLElBQUksQ0FBQ1QsS0FBSyxDQUFDVSxvQkFBb0I7UUFDaERDLE1BQU0sRUFBRSxTQUFBQSxPQUFBQyxLQUFLLEVBQUk7VUFDZixJQUFJQyxpQkFBUSxDQUFDQyxJQUFJLEVBQUU7WUFDakJoQixNQUFJLENBQUNpQixnQkFBZ0IsQ0FBQyxHQUFHLENBQUM7VUFDNUI7VUFDQSxJQUFJakIsTUFBSSxDQUFDRSxLQUFLLENBQUNXLE1BQU0sSUFBSSxJQUFJLEVBQUU7WUFDN0JiLE1BQUksQ0FBQ0UsS0FBSyxDQUFDVyxNQUFNLENBQUNDLEtBQUssQ0FBQztVQUMxQjtRQUNGLENBQUM7UUFDREksT0FBTyxFQUFFLFNBQUFBLFFBQUFKLEtBQUssRUFBSTtVQUNoQixJQUFJQyxpQkFBUSxDQUFDQyxJQUFJLEVBQUU7WUFDakJoQixNQUFJLENBQUNtQixjQUFjLENBQUMsR0FBRyxDQUFDO1VBQzFCO1VBQ0EsSUFBSW5CLE1BQUksQ0FBQ0UsS0FBSyxDQUFDZ0IsT0FBTyxJQUFJLElBQUksRUFBRTtZQUM5QmxCLE1BQUksQ0FBQ0UsS0FBSyxDQUFDZ0IsT0FBTyxDQUFDSixLQUFLLENBQUM7VUFDM0I7UUFDRixDQUFDO1FBQ0RNLFdBQVcsRUFBRSxJQUFJLENBQUNsQixLQUFLLENBQUNrQixXQUFXO1FBQ25DQyxPQUFPLEVBQUUsSUFBSSxDQUFDbkIsS0FBSyxDQUFDbUIsT0FBTztRQUMzQkMsU0FBUyxFQUFFLFNBQUFBLFVBQUFSLEtBQUssRUFBSTtVQUNsQmQsTUFBSSxDQUFDbUIsY0FBYyxDQUNqQkwsS0FBSyxDQUFDUyxjQUFjLENBQUNDLGdCQUFnQixLQUFLLGtCQUFrQixHQUN4RCxDQUFDLEdBQ0QsR0FBRyxDQUNSO1VBQ0QsSUFBSXhCLE1BQUksQ0FBQ0UsS0FBSyxDQUFDb0IsU0FBUyxJQUFJLElBQUksRUFBRTtZQUNoQ3RCLE1BQUksQ0FBQ0UsS0FBSyxDQUFDb0IsU0FBUyxDQUFDUixLQUFLLENBQUM7VUFDN0I7UUFDRixDQUFDO1FBQ0RXLFVBQVUsRUFBRSxTQUFBQSxXQUFBWCxLQUFLLEVBQUk7VUFDbkJkLE1BQUksQ0FBQ2lCLGdCQUFnQixDQUFDLEdBQUcsQ0FBQztVQUMxQixJQUFJakIsTUFBSSxDQUFDRSxLQUFLLENBQUN1QixVQUFVLElBQUksSUFBSSxFQUFFO1lBQ2pDekIsTUFBSSxDQUFDRSxLQUFLLENBQUN1QixVQUFVLENBQUNYLEtBQUssQ0FBQztVQUM5QjtRQUNGO01BQ0YsQ0FBQztJQUNIO0VBQUM7SUFBQWxGLEdBQUE7SUFBQWlFLEtBQUEsRUFLRCxTQUFBNkIsY0FBY0MsT0FBZSxFQUFFQyxRQUFnQixFQUFRO01BQ3JEdEMsaUJBQVEsQ0FBQ3VDLE1BQU0sQ0FBQyxJQUFJLENBQUN6QyxLQUFLLENBQUNDLElBQUksRUFBRTtRQUMvQnNDLE9BQU8sRUFBUEEsT0FBTztRQUNQQyxRQUFRLEVBQVJBLFFBQVE7UUFDUkUsTUFBTSxFQUFFQyxlQUFNLENBQUNDLEtBQUssQ0FBQ0QsZUFBTSxDQUFDRSxJQUFJLENBQUM7UUFDakNDLGVBQWUsRUFBRTtNQUNuQixDQUFDLENBQUMsQ0FBQ0MsS0FBSyxFQUFFO0lBQ1o7RUFBQztJQUFBdkcsR0FBQTtJQUFBaUUsS0FBQSxFQUVELFNBQUFzQixlQUFlUyxRQUFnQixFQUFRO01BQUEsSUFBQVEscUJBQUE7TUFDckMsSUFBSSxDQUFDVixhQUFhLEVBQUFVLHFCQUFBLEdBQUMsSUFBSSxDQUFDbEMsS0FBSyxDQUFDbUMsYUFBYSxZQUFBRCxxQkFBQSxHQUFJLEdBQUcsRUFBRVIsUUFBUSxDQUFDO0lBQy9EO0VBQUM7SUFBQWhHLEdBQUE7SUFBQWlFLEtBQUEsRUFFRCxTQUFBb0IsaUJBQWlCVyxRQUFnQixFQUFRO01BQ3ZDLElBQUksQ0FBQ0YsYUFBYSxDQUFDLElBQUksQ0FBQ2xDLGdDQUFnQyxFQUFFLEVBQUVvQyxRQUFRLENBQUM7SUFDdkU7RUFBQztJQUFBaEcsR0FBQTtJQUFBaUUsS0FBQSxFQUVELFNBQUFMLGlDQUFBLEVBQTJDO01BQUEsSUFBQThDLGFBQUE7TUFDekMsSUFBTUMsT0FBTyxJQUFBRCxhQUFBLEdBQUcsSUFBQUUsc0JBQVksRUFBQyxJQUFJLENBQUN0QyxLQUFLLENBQUN1QyxLQUFLLENBQUMscUJBQTlCSCxhQUFBLENBQWdDQyxPQUFPO01BQ3ZELE9BQU8sT0FBT0EsT0FBTyxLQUFLLFFBQVEsR0FBR0EsT0FBTyxHQUFHLENBQUM7SUFDbEQ7RUFBQztJQUFBM0csR0FBQTtJQUFBaUUsS0FBQSxFQUVELFNBQUE2QyxPQUFBLEVBQXFCO01BR25CLElBQUFDLHFCQUFBLEdBQ0UsSUFBSSxDQUFDdkQsS0FBSyxDQUFDSyxZQUFZLENBQUNtRCxnQkFBZ0IsRUFBRTtRQURyQy9CLE1BQU0sR0FBQThCLHFCQUFBLENBQU45QixNQUFNO1FBQUVLLE9BQU8sR0FBQXlCLHFCQUFBLENBQVB6QixPQUFPO1FBQUsyQixnQ0FBZ0MsT0FBQUMseUJBQUEsQ0FBQTNILE9BQUEsRUFBQXdILHFCQUFBLEVBQUFoSSxTQUFBO01BRzNELElBQU0wRixrQkFBa0IsR0FDdEIsSUFBSSxDQUFDSCxLQUFLLENBQUNFLFFBQVEsSUFBSSxJQUFJLEdBQUF2RCxhQUFBLENBQUFBLGFBQUEsS0FFbEIsSUFBSSxDQUFDcUQsS0FBSyxDQUFDRyxrQkFBa0I7UUFDaENELFFBQVEsRUFBRSxJQUFJLENBQUNGLEtBQUssQ0FBQ0U7TUFBUSxLQUUvQixJQUFJLENBQUNGLEtBQUssQ0FBQ0csa0JBQWtCO01BRW5DLE9BQ0U1RixLQUFBLENBQUFzSSxhQUFBLENBQUMxSSxTQUFBLENBQUFjLE9BQVEsQ0FBQzZILElBQUksTUFBQUMsU0FBQSxDQUFBOUgsT0FBQTtRQUNaK0gsVUFBVSxFQUFFLElBQUksQ0FBQ2hELEtBQUssQ0FBQ2dELFVBQVUsS0FBSyxLQUFNO1FBQzVDQyxrQkFBa0IsRUFBRSxJQUFJLENBQUNqRCxLQUFLLENBQUNpRCxrQkFBbUI7UUFDbERDLGlCQUFpQixFQUFFLElBQUksQ0FBQ2xELEtBQUssQ0FBQ2tELGlCQUFrQjtRQUNoREMscUJBQXFCLEVBQUUsSUFBSSxDQUFDbkQsS0FBSyxDQUFDbUQscUJBQXNCO1FBQ3hEQyxpQkFBaUIsRUFBRSxJQUFJLENBQUNwRCxLQUFLLENBQUNvRCxpQkFBa0I7UUFDaERqRCxrQkFBa0IsRUFBRUEsa0JBQW1CO1FBQ3ZDa0Qsb0JBQW9CLEVBQUUsSUFBSSxDQUFDckQsS0FBSyxDQUFDcUQsb0JBQXFCO1FBQ3REQyxxQkFBcUIsRUFBRSxJQUFJLENBQUN0RCxLQUFLLENBQUNzRCxxQkFBc0I7UUFDeERDLGtCQUFrQixFQUFFLElBQUksQ0FBQ3ZELEtBQUssQ0FBQ3VELGtCQUFtQjtRQUNsREMseUJBQXlCLEVBQUUsSUFBSSxDQUFDeEQsS0FBSyxDQUFDd0QseUJBQTBCO1FBQ2hFQyx1QkFBdUIsRUFBRSxJQUFJLENBQUN6RCxLQUFLLENBQUN5RCx1QkFBd0I7UUFDNURDLHdCQUF3QixFQUFFLElBQUksQ0FBQzFELEtBQUssQ0FBQzBELHdCQUF5QjtRQUM5REMsMkJBQTJCLEVBQUUsSUFBSSxDQUFDM0QsS0FBSyxDQUFDMkQsMkJBQTRCO1FBQ3BFcEIsS0FBSyxFQUFFLENBQUMsSUFBSSxDQUFDdkMsS0FBSyxDQUFDdUMsS0FBSyxFQUFFO1VBQUNGLE9BQU8sRUFBRSxJQUFJLENBQUNuRCxLQUFLLENBQUNDO1FBQUksQ0FBQyxDQUFFO1FBQ3REeUUsUUFBUSxFQUFFLElBQUksQ0FBQzVELEtBQUssQ0FBQzRELFFBQVM7UUFDOUJDLE1BQU0sRUFBRSxJQUFJLENBQUM3RCxLQUFLLENBQUM2RCxNQUFPO1FBQzFCQyxRQUFRLEVBQUUsSUFBSSxDQUFDOUQsS0FBSyxDQUFDOEQsUUFBUztRQUM5QkMsYUFBYSxFQUFFLElBQUksQ0FBQy9ELEtBQUssQ0FBQytELGFBQWM7UUFDeENDLGdCQUFnQixFQUFFLElBQUksQ0FBQ2hFLEtBQUssQ0FBQ2dFLGdCQUFpQjtRQUM5Q0MsYUFBYSxFQUFFLElBQUksQ0FBQ2pFLEtBQUssQ0FBQ2lFLGFBQWM7UUFDeENDLGNBQWMsRUFBRSxJQUFJLENBQUNsRSxLQUFLLENBQUNrRSxjQUFlO1FBQzFDQyxXQUFXLEVBQUUsSUFBSSxDQUFDbkUsS0FBSyxDQUFDbUUsV0FBWTtRQUNwQ0MsbUJBQW1CLEVBQUUsSUFBSSxDQUFDcEUsS0FBSyxDQUFDb0UsbUJBQW9CO1FBQ3BEaEUsT0FBTyxFQUFFLElBQUksQ0FBQ0osS0FBSyxDQUFDSSxPQUFRO1FBQzVCaUUsU0FBUyxFQUNQLElBQUksQ0FBQ3JFLEtBQUssQ0FBQ3FFLFNBQVMsS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDckUsS0FBSyxDQUFDbUIsT0FBTyxLQUFLbUQsU0FDMUQ7UUFDREMsR0FBRyxFQUFFLElBQUksQ0FBQ3ZFLEtBQUssQ0FBQ3dFO01BQVEsR0FDcEI3QixnQ0FBZ0MsR0FDbkMsSUFBSSxDQUFDM0MsS0FBSyxDQUFDeUUsUUFBUSxFQUNuQkMsT0FBTyxHQUNObkssS0FBQSxDQUFBc0ksYUFBQSxDQUFDM0ksa0JBQUEsQ0FBQXlLLHFCQUFxQjtRQUFDQyxLQUFLLEVBQUMsTUFBTTtRQUFDeEUsT0FBTyxFQUFFLElBQUksQ0FBQ0osS0FBSyxDQUFDSTtNQUFRLEVBQUcsR0FDakUsSUFBSSxDQUNNO0lBRXBCO0VBQUM7SUFBQTFFLEdBQUE7SUFBQWlFLEtBQUEsRUFFRCxTQUFBa0YsbUJBQW1CQyxTQUFnQixFQUFFQyxTQUFnQixFQUFFO01BQUEsSUFBQUMsY0FBQSxFQUFBQyxjQUFBO01BQ3JELElBQUksQ0FBQy9GLEtBQUssQ0FBQ0ssWUFBWSxDQUFDMkYsU0FBUyxDQUFDLElBQUksQ0FBQ3pGLHlCQUF5QixFQUFFLENBQUM7TUFDbkUsSUFDRSxJQUFJLENBQUNPLEtBQUssQ0FBQ0UsUUFBUSxLQUFLNEUsU0FBUyxDQUFDNUUsUUFBUSxJQUN6QyxFQUFBOEUsY0FBQSxPQUFBMUMsc0JBQVksRUFBQ3dDLFNBQVMsQ0FBQ3ZDLEtBQUssQ0FBQyxxQkFBN0J5QyxjQUFBLENBQStCM0MsT0FBTyxRQUFBNEMsY0FBQSxHQUNyQyxJQUFBM0Msc0JBQVksRUFBQyxJQUFJLENBQUN0QyxLQUFLLENBQUN1QyxLQUFLLENBQUMscUJBQTlCMEMsY0FBQSxDQUFnQzVDLE9BQU8sTUFDdkNpQyxTQUFTLEVBQ1g7UUFDQSxJQUFJLENBQUN2RCxnQkFBZ0IsQ0FBQyxHQUFHLENBQUM7TUFDNUI7SUFDRjtFQUFDO0lBQUFyRixHQUFBO0lBQUFpRSxLQUFBLEVBRUQsU0FBQXdGLHFCQUFBLEVBQTZCO01BQzNCLElBQUksQ0FBQ2pHLEtBQUssQ0FBQ0ssWUFBWSxDQUFDNkYsS0FBSyxFQUFFO0lBQ2pDO0VBQUM7RUFBQSxPQUFBN0csZ0JBQUE7QUFBQSxFQWpKNEJoRSxLQUFLLENBQUM4SyxTQUFTO0FBb0o5QyxJQUFNQyxTQUFTLEdBQUkvSyxLQUFLLENBQUNnTCxVQUFVLENBQUMsVUFBQ3ZGLEtBQUssRUFBRXVFLEdBQUc7RUFBQSxPQUM3Q2hLLEtBQUEsQ0FBQXNJLGFBQUEsQ0FBQ3RFLGdCQUFnQixNQUFBd0UsU0FBQSxDQUFBOUgsT0FBQSxNQUFLK0UsS0FBSztJQUFFd0UsT0FBTyxFQUFFRDtFQUFJLEdBQUc7QUFBQSxDQUM5QyxDQUEwRTtBQUUzRWUsU0FBUyxDQUFDRSxXQUFXLEdBQUcsa0JBQWtCO0FBRTFDQyxNQUFNLENBQUNDLE9BQU8sR0FBR0osU0FBUyJ9